"use strict";var input=document.querySelector("#urls"),form=document.querySelector("#post"),allUrl=document.querySelector(".all-url"),tempUrl=document.querySelector("#temp-url").innerHTML.trim(),mark=Handlebars.compile(tempUrl),arr=[],i=0,settingsFromLS=JSON.parse(localStorage.getItem("arr"));if(null!==settingsFromLS){var lastId=settingsFromLS.reduce(function(r,e){return e.id},0);i=lastId;var result=(arr=settingsFromLS).reduce(function(r,e){return r+mark(e)},"");allUrl.innerHTML=result}function userInput(r){r.preventDefault(),i++;var e=0!==input.value.length,t=arr.find(function(r){return r.url===input.value});if(console.log(arr),e&&!t){if(null===settingsFromLS){arr.push({id:i,url:input.value});var a=arr.reduce(function(r,e){return r+mark(e)},"");localStorage.setItem("arr",JSON.stringify(arr)),allUrl.innerHTML=a}else{arr.push({id:i,url:input.value});var n=settingsFromLS.reduce(function(r,e){return r+mark(e)},"");localStorage.setItem("arr",JSON.stringify(arr)),allUrl.innerHTML=n}Array.from(document.querySelectorAll(".remove")).forEach(function(r){r.addEventListener("click",function(r){var e=this;null===settingsFromLS?(arr=arr.filter(function(r){return r.id!==+e.dataset.targetId}),document.querySelector('[data-id="'.concat(this.dataset.targetId,'"]')).remove(),localStorage.setItem("arr",JSON.stringify(arr))):(arr=(arr=settingsFromLS).filter(function(r){return r.id!==+e.dataset.targetId}),document.querySelector('[data-id="'.concat(this.dataset.targetId,'"]')).remove())})})}else alert("Вы ввели пустое значение или такой адрес уже есть");localStorage.setItem("arr",JSON.stringify(arr)),form.reset()}console.log(arr),form.addEventListener("submit",userInput);