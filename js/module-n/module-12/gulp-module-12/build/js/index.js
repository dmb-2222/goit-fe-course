"use strict";var input=document.querySelector("#urls"),form=document.querySelector("#post"),allUrl=document.querySelector(".all-url"),tempUrl=document.querySelector("#temp-url").innerHTML.trim(),mark=Handlebars.compile(tempUrl),arr=[],i=0,settingsFromLS=JSON.parse(localStorage.getItem("arr"));if(null!==settingsFromLS){(arr=settingsFromLS).reverse();var lastId=settingsFromLS.reduce(function(r,t){return t.id},0);console.log(lastId),i=lastId,settingsFromLS.reverse();var result=arr.reduce(function(r,t){return r+mark(t)},"");allUrl.innerHTML=result;var btnsLs=Array.from(document.querySelectorAll(".remove"));btnsLs.forEach(function(r){r.addEventListener("click",function(r){var t=this;arr=arr.filter(function(r){return r.id!==+t.dataset.targetId}),document.querySelector('[data-id="'.concat(this.dataset.targetId,'"]')).remove(),localStorage.setItem("arr",JSON.stringify(arr))})})}function userInput(r){r.preventDefault(),i++;var t=0!==input.value.length,e=arr.find(function(r){return r.url===input.value});if(t&&!e){if(null===settingsFromLS){arr.unshift({id:i,url:input.value});var n=arr.reduce(function(r,t){return r+mark(t)},"");localStorage.setItem("arr",JSON.stringify(arr)),allUrl.innerHTML=n}else{arr.unshift({id:i,url:input.value});var a=settingsFromLS.reduce(function(r,t){return r+mark(t)},"");localStorage.setItem("arr",JSON.stringify(arr)),allUrl.innerHTML=a}Array.from(document.querySelectorAll(".remove")).forEach(function(r){r.addEventListener("click",function(r){var t=this;arr=null===settingsFromLS?arr.filter(function(r){return r.id!==+t.dataset.targetId}):(arr=settingsFromLS).filter(function(r){return r.id!==+t.dataset.targetId}),document.querySelector('[data-id="'.concat(this.dataset.targetId,'"]')).remove(),localStorage.setItem("arr",JSON.stringify(arr))})})}else alert("Вы ввели пустое значение или такой адрес уже есть");form.reset()}form.addEventListener("submit",userInput);